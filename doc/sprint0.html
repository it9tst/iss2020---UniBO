<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>LABORATORIO DI SISTEMI SOFTWARE 2020 - Sprint Iniziale</title>
        <!-- Bootstrap -->
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" crossorigin="anonymous">
        <style type="text/css">
            em {
                font-size: 80%;
                font-weight: bold;
                border-style:solid;
                border-color: #e9ecef;
                color: #28a745;
            }
        </style>
    </head>
    <body>
		<div class="jumbotron jumbotron-fluid text-center" style="padding: 5px">
			<h1 class="display-4">LABORATORIO DI SISTEMI SOFTWARE 2020</h1>
			<p class="lead">Sprint Iniziale</p>
		</div>
		<div class="container">
			<div class="row text-center">
				<div class="col-lg-6 offset-lg-3">
				   <h2><u>Requisiti</u></h2>
                    <hr class="my-4">
                </div>
			</div>
            <div>
            
            <h4>Tea-room COVID-19</h4> 

            The <em>manager</em> of a <em>tearoom</em> intends to regulate the access to the service by means of a ddr robot (<em>waiter</em>).
            <br/><br/>
            The <em>tearoom</em> is a rectangular room that includes:

            <ul>
            <li>an <em>entrancedoor</em> to enter in the room and an <em>exitdoor</em> to exit form it;</li>
            <li>a number <tt>N (N=2)</tt> of <em>teatable</em>;</li>
            <li>a <em>serviceare</em> including a <em>servicedesk</em> at which works a <em>barman</em>;</li>
            <li>a <em>hall</em> equipped with a <em>presencedetector</em>, i.e. a device (e.g. a sonar) that can detect the presence of 
            a person (or some other entity) in it.</li>
            </ul>

            The <em>waiter</em> can freely move along the borders of the tearoom, since there are no obstacles there. 

            <center><img src="assets/tearoom20.png" alt="tearoom20.png" width="65%"/></center>


            <h5>User stories</h5>
            As a <em>client</em>:
            <ul>
            <li>I intend to <em>notify</em> my interest in <em>entering</em> in a <em>safe tearoom</em>, <em>sitting</em> at a free teatable,  <em>ordering</em> 
            some tea,  <em>consuming</em> it  (within a limited amount of time <em>maxstaytime</em>)  <em>paying</em> the service
            with my credit card and finally <em>leaving</em> the room.</li>
            <li>For <em>safe tearoom</em>, I intend a tearoom with clean tea-tables posed at a proper distance; the room is populated by human clients 
            whose body temperature is less than <tt>37.5</tt> degrees. </li>
            <li>I can submit my notification of interest by hitting the <em>smartbell</em> located near the  <em>entrancedoor</em> 
            that will automatically measure my body temperature and send a request message to the <em>waiter</em>, by giving to me an unique <em>clientidentifier</em>.
            </li>
            <li>If my body temperature is ok, but my request cannot be immediately satisfied (since the room is full), I will be <em>informed</em> by the <em>waiter</em> 
            about the maximum waiting time.</li>
            </ul>

            As a <em>manager</em>:
            <ul>
            <li>I intend to be able to see the <em>current state</em> of the <em>tearoom</em> by using  a browser connected to a web-server 
            associated to the application.
            </li>
            </ul>


            <h5>Requirements</h5>

            The <em>waiter</em> should perform the following tasks:
            <ul>

            <li><em>accept</em> the request of a client to enter in the tearoom if there is at least one teatable in the state <em>tableclean</em>, i.e.
            the table is free and has been properly cleaned; </li>
            <li><em>inform</em> the client about the maximum waiting time if there is no <em>tableclean</em>;</li> 
            <li><em>reach</em> the <em>entrance door</em> and <em>convoy</em> the accepted client to the selected teatable;</li>
            <li><em>take</em> the order of the client and transmit it (using a wifi-device) to the <em>barman</em>; </li>
            <li><em>serve</em>  the client when the <em>barman</em> says that the requested drink is ready;</li>
            <li><em>collect</em> the payment from the client when he/she has finished to consume or when the <em>maxstaytime</em> is expired;</li>
            <li><em>convoy</em> the client to the <em>exitdoor</em>;</li>
            <li><em>clean</em> the tea-table just freed  by the client;</li>
            <li><em>rest</em> at my <em>home</em> when there is nothing to do.</li>
            </ul>

            Since the room could contain <tt>N</tt> clients at the time, the <em>waiter</em> should reduce as much as possible the waiting time of the requests coming from each client.<br><br>
            
            </div>
			<br>
			<hr>
			<br>
			<div class="row text-center">
				<div class="col-lg-6 offset-lg-3"><u><h2>Analisi dei requisiti</h2></u></div>
                <hr class="my-4">
			</div>
            <div>
				<p>Dai requisiti si deduce che il waiter è un ddr robot che deve seguire una serie di attività in una tearoom, ovvero un locale adibito al consumo dell’afternoon tea. All’interno della stanza vi è una servicearea dove opera un barman, su un servicedesk, che gestisce le comande ricevute dal waiter. Vi sono anche due teatable riservati ai clienti che presentano un proprio stato di utilizzo (occupato/libero, sporco/pulito). L’entrata (entrancedoor) e l’uscita (exitdoor) sono ad ingressi separati per questioni di sicurezza. Esse collegano la tearoom e la hall. In essa si trova uno smartbell, che è un dispositivo, che se attivato, segnala la presenza di un client al waiter e inoltre ne misura la temperatura corporea, attraverso un termometro integrato. Troviamo anche un presencedetector che segnala la presenza di persone all’interno della hall.</p>
                <p>Il manager è un applicazione web che tiene traccia dello stato corrente di tutte le entità presenti nella tearoom.</p>
				<p>Consideriamo uno scenario semplificato, che non richieda interruzioni e cominciamo a modellarlo.</p>
				<table class="table table-striped table-bordered">
                    <thead class="thead-dark">
                        <tr>
                            <th scope="col">Caso d'uso</th>
                            <th scope="col">Descrizione</th>
                        </tr>
                    </thead>
                    <tbody>
						<tr>
                            <th scope="row">Cliente</th>
                            <td>Virtuale</td>
                        </tr>
                        <tr>
                            <th scope="row">Clienti idonei</th>
                            <td>1</td>
                        </tr>
                        <tr>
                            <th scope="row">Tavoli liberi</th>
                            <td>2</td>
                        </tr>
						<tr>
                            <th scope="row">Tavoli sanificati</th>
                            <td>2</td>
                        </tr>
						<tr>
                            <th scope="row">Step 1</th>
                            <td>Il cliente arriva alla tearoom con temperatura idonea, viene fatto entrare, il waiter lo accompagna<br> al tavolo (Tavolo 1)</td>
                        </tr>
						<tr>
                            <th scope="row">Step 2</th>
                            <td>Il cliente ordina, paga il waiter ed esce dalla tearoom</td>
                        </tr>
                    </tbody>
                </table>
				<p>Dai requisiti sono emerse le seguenti entità:</p>
				<table class="table table-striped table-bordered">
                    <thead class="thead-dark">
                        <tr>
                            <th scope="col">Entità</th>
                            <th scope="col">Descrizione</th>
                        </tr>
                    </thead>
                    <tbody>
						<tr>
                            <th scope="row">Waiter</th>
                            <td>Risulta essere il cameriere della tearoom. Il suo scopo è quello di accogliere i clienti, prendere gli ordini, comunicarli al barman, servire i clienti, accompagnarli all'uscita e pulire i tavoli sporchi. Interagisce con tutte le altre entità.</td>
                        </tr>
                        <tr>
                            <th scope="row">Smartbell</th>
                            <td>Ha lo scopo di segnalare la presenza di un client che vuole entrare nella tearoom. Interagisce con il cliente e il waiter.</td>
                        </tr>
						<tr>
                            <th scope="row">Client</th>
                            <td>E' un cliente virtuale che accede alla tearoom. Il suo comportamento tipico prevede di entrare, ordinare, consumare ed uscire dalla tearoom. Interagisce con il waiter e lo smartbell.</td>
                        </tr>
                    </tbody>
                </table>
				<p>Dai requisiti emersi dall'analisi, i messaggi scambiati, tra le entità prese attualmente in esame, sono i seguenti:</p>
				<table class="table table-striped table-bordered">
                    <thead class="thead-dark">
                        <tr>
                            <th scope="col">Messaggio</th>
                            <th scope="col">Descrizione</th>
							<th scope="col">Entità</th>
							<th scope="col">Parametri</th>
                        </tr>
                    </thead>
                    <tbody>
						<tr>
                            <th scope="row">enter_request_client</th>
                            <td>Il client chiede di entrare nella tearoom</td>
							<td>smartbell - client</td>
							<td>Temperatura</td>
                        </tr>
                        <tr>
                            <th scope="row">enter_reply_from_smartbell</th>
                            <td>E' la risposta di  enter_request_client</td>
							<td>smartbell - client</td>
							<td>ID Cliente</td>
                        </tr>
                        <tr>
                            <th scope="row">smartbell_enter_request</th>
                            <td>Lo smartbell chiede se il client può entrare nella tearoom</td>
							<td>smartbell - waiter</td>
							<td>ID Cliente</td>
                        </tr>
						<tr>
                            <th scope="row">client_accept</th>
                            <td>E' la risposta di  smartbell_enter_request</td>
							<td>smartbell - waiter</td>
							<td>ID Tavolo</td>
                        </tr>
						<tr>
                            <th scope="row">client_ready_to_order</th>
                            <td>Il client vuole ordinare</td>
							<td>waiter - client</td>
							<td>ID Cliente</td>
                        </tr>
						<tr>
                            <th scope="row">client_payment</th>
                            <td>Il client vuole pagare</td>
							<td>waiter - client</td>
							<td>ID Cliente</td>
                        </tr>
                    </tbody>
                </table>
            </div>
			<br>
			<hr>
			<br>
			<div class="row text-center">
				<div class="col-lg-6 offset-lg-3"><u><h2>Analisi dei problemi</h2></u></div>
                <hr class="my-4">
			</div>
            <div>
                <p>Dall'analisi dei requisiti e dalle specifiche del cliente emergono le seguenti problematiche:</p>
				<ul>
					<li>Gestione della sincronia o asincronia di alcuni segnali di comunicazione tra le varie entità. Quindi dobbiamo approfondire le modalità di comunicazione tra entità, che per nostra scelta implementativa saranno degli attori, ovvero l'utilizzo efficiente di request/reply, polling, event_driven.</li>
					<li>Scelta progettuale riguardo l'implementazione del sistema in logica distribuita o centralizzato.</li>
                </ul>
				<p>Dall'analisi dei requisiti si evince che le azioni svolte dalle varie entità ci permettono di trattarle come se fossero macchine a stati finiti e quindi sceglieremo di modellare le entità attraverso il metamodello dei <a href="https://raw.githubusercontent.com/anatali/iss2020LabBo/master/it.unibo.qakactor/userDocs/LabQakIntro2020.html">QAK</a>.</p>
				<p>La realizzazione di un sistema misto è la scelta migliore perché consente di gestire meglio i problemi di sincronizzazione e di prevenire al meglio il verificarsi di bottleneck.</p>
				<br>
				<br>
				<p>Ecco come si presenta il sistema, da un punto di vista logico, nel suo complesso.</p>
                <a href="javascript:void(0)" class="pop">
                    <center><img src="assets/logico.png" alt="logico.png" style="width: 40%;"/></center>
                </a>
				<br>
				<br>
				<p>Ecco il grafo degli stati che compongono il Waiter.</p>
                <a href="javascript:void(0)" class="pop">
				    <center><img src="assets/statiWaiter.png" alt="statiWaiter.png" style="width: 40%;"/></center>
                </a>
				<br>
				<br>
				<p>Ecco il grafo degli stati che compongono lo Smartbell.</p>
                <a href="javascript:void(0)" class="pop">
				    <center><img src="assets/statiSmartbell.png" alt="statiSmartbell.png" style="width: 40%;"/></center>
                </a>
            </div>
			<br>
			<hr>
			<br>
			<div class="row text-center">
				<div class="col-lg-6 offset-lg-3"><u><h2>Test plan</h2></u></div>
				<hr class="my-4">
			</div>
            <div>
				<p>Il test è visionabile a questo link: <a href="https://github.com/it9tst/iss2020ProjectBO/blob/feature/sprint0/ct.tearoom/test/test_01.kt">TEST_01</a></p>
				<p>Si assume che il cliente sia virtuale.</p>
				<p>Il cliente arriva alla tearoom con temperatura minore di 37.5 gradi e suona il campanello (stampa del messaggio). Dopo aver misurato la temperatura, viene accettato (stampa del messaggio). Il waiter lo fa accomodare al tavolo 1 (stampa del messaggio), il cliente ordina (stampa del messaggio), il cliente paga il waiter (stampa del messaggio) ed esce dalla tearoom (stampa del messaggio).</p>
            </div>
			<br>
			<br>
		</div>
        <div class="container-fluid" style="background-color: #e9ecef; padding: 15px 0px">
            <div class="container">
                <div class="card-group" style="margin: 0 auto; width: 600px;">
                    <div class="card">
                        <img src="assets/vc.jpg" class="card-img-top">
                        <div class="card-body">
                            <h5 class="card-title">Vittorio Corsale</h5>
                            <p class="card-text">vittorio.corsale@studio.unibo.it</p>
                        </div>
                    </div>
                    <div class="card">
                        <img src="assets/gt.jpg" class="card-img-top">
                        <div class="card-body">
                            <h5 class="card-title">Gabriele Tornatore</h5>
                            <p class="card-text">gabriele.tornatore@studio.unibo.it</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.6/dist/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.2.1/dist/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>
        <script src="https://raw.githubusercontent.com/it9tst/iss2020ProjectBO/feature/sprint0/doc/js/modal.js"></script>
    </body>
</html>